<Page x:Class="DataReceiver.Views.CommunityView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:DataReceiver.Views"
      mc:Ignorable="d" 
      xmlns:vm="clr-namespace:DataReceiver.ViewModels.Community"
      d:DataContext="{d:DesignInstance Type=vm:CommunityViewModel}"
      xmlns:hc="https://handyorg.github.io/handycontrol"
      d:DesignHeight="450" d:DesignWidth="800"
      xmlns:wd="https://github.com/WPFDevelopersOrg/WPFDevelopers"
      Title="SocketView">

    <Grid >
        <Grid.ColumnDefinitions>
            <ColumnDefinition MaxWidth="150"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!--sider bar-->
        <Grid Grid.Column="0" HorizontalAlignment="Left">

            <Grid.RowDefinitions>
                <RowDefinition Height="8*"/>
                <RowDefinition Height="*" MaxHeight="50"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="1">
                <Button Margin="0,5,0,5" 
                        Width="110" 
                        Height="30" 
                        Content="Add Socket" 
                        Command="{Binding AddSubPageCommand}"
                        Style="{StaticResource ButtonPrimary}"/>
            </Grid>

            <hc:TransitioningContentControl Grid.Row="0" >

                <hc:SideMenu BorderThickness="1" Width="200">

                    <hc:Interaction.Triggers>
                        <hc:EventTrigger EventName="SelectionChanged">
                            <hc:EventToCommand Command="{Binding SwitchItemCmd}" PassEventArgsToCommand="True" />
                        </hc:EventTrigger>
                    </hc:Interaction.Triggers>

                    <hc:SideMenuItem Header="常用协议">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="TCP" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="FTP" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="UDP" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>

                    <!--<hc:SideMenuItem Header="数据库">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="SQL Server" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="MySQL" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Oracle" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>
                    <hc:SideMenuItem Header="PLC">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="MELSEC" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="SIMENS" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Wiki" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>

                    <hc:SideMenuItem Header="Overview">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="Summary" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Dashboards" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Wiki" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>

                    <hc:SideMenuItem Header="Overview">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="Summary" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Dashboards" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Wiki" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>

                    <hc:SideMenuItem Header="Overview">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="Summary" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Dashboards" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Wiki" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>

                    <hc:SideMenuItem Header="Overview">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="Summary" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Dashboards" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Wiki" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>

                    <hc:SideMenuItem Header="Overview">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="Summary" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Dashboards" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Wiki" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>

                    <hc:SideMenuItem Header="Overview">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>

                        <hc:SideMenuItem Header="Summary" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf2cb;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Dashboards" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xf246;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                        <hc:SideMenuItem Header="Wiki" Command="{Binding SelectCmd}" CommandParameter="{Binding Header,RelativeSource={RelativeSource Self}}">
                            <hc:SideMenuItem.Icon>
                                <TextBlock Text="&#xe82d;"/>
                            </hc:SideMenuItem.Icon>
                        </hc:SideMenuItem>

                    </hc:SideMenuItem>
                    
                    <hc:SideMenuItem Header="TESTTESTTEST">
                        <hc:SideMenuItem.Icon>
                            <Image Source="/Assets/Icon/FTP.png" Width="24" Height="24"/>
                        </hc:SideMenuItem.Icon>
                    </hc:SideMenuItem>-->


                </hc:SideMenu>
            </hc:TransitioningContentControl>
        </Grid>

        <Grid Grid.Column="1" >
            <hc:TransitioningContentControl>
                <Border BorderThickness="1" BorderBrush="LightGray">
                    <hc:TabControl ItemsSource="{Binding VMList}" 
                                   ShowCloseButton="True" 
                                   IsDraggable="True" >
                        <hc:TabControl.ItemTemplate>
                            <DataTemplate>

                                <TextBlock Text="{Binding Title}"/>

                            </DataTemplate>
                        </hc:TabControl.ItemTemplate>

                        <hc:TabControl.Resources>
                            <DataTemplate DataType="{x:Type vm:TcpViewModel}">
                                <local:TcpView/>
                            </DataTemplate>
                            <DataTemplate DataType="{x:Type vm:FtpViewModel}">
                                <local:FtpView/>
                            </DataTemplate>
                        </hc:TabControl.Resources>
                    </hc:TabControl>

                </Border>
            </hc:TransitioningContentControl>
        </Grid>


    </Grid>

</Page>
